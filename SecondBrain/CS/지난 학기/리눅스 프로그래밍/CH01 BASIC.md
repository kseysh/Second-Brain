# File system
Unix filesystem은 폴더와 파일의 계층 구조이다.
폴더도 파일이다. (모든 것이 파일이다.)
### Regular File
unix는 텍스트 파일 및 바이너리 파일을 모두 regular file로 취급하며, 구분하지 못한다.
### Directory file
다른 파일의 이름과 위치를 포함하는 파일
### 문자 특수 파일
터미널과 같은 문자 기반의 장치와 통신하는데 사용 됨
### 블록 특수 파일
주로 디스크 드라이브와 같은 블록 기반의 장치와 통신하는데 사용됨
### FIFO (pipe)
프로세스 간 통신을 위해 사용되는 파일 유형
하나의 프로세스가 파이프에서 데이터를 쓰면, 다른 프로세스가 파이프에서 그 데이터를 읽을 수 있다.
일종의 큐로 동작한다.
### Socket
프로세스 간의 네트워크 통신을 위해 사용되는 파일 유형
두 프로세스가 네트워크를 통해 데이터를 주고받을 수 있다.

![[Pasted image 20240909165159.png]]
맨 앞의 글자의 의미
- d: directory
- l: symbolic link
- b: block special file
- c: character special file
- p: FIFO
- -: regular file

# Process
`ls` : ls 프로그램의 프로세스가 생성된다.
`ps` : 현재 실행 중인 프로세스에 대한 정보 표시
### 프로세스 간 통신 (Inter-process Communication, IPC)
• 파이프 : 프로세스 간에 데이터를 주고받기 위한 메커니즘입니다.
• FIFO : 이름이 있는 파이프로, 프로세스 간의 통신을 가능하게 합니다.
• 시그널 : 프로세스 간에 간단한 메시지를 보내기 위한 메커니즘입니다.
• 공유 메모리: 여러 프로세스가 동시에 접근할 수 있는 메모리 공간입니다.
• 세마포어: 프로세스 간의 동기화를 위한 메커니즘입니다.
• 소켓 : 네트워크를 통해 협력 프로세스 간의 통신을 위해 사용됩니다.

# 시스템 호출 및 라이브러리 서브루틴

### 시스템 호출
소프트웨어 개발자가 UNIX 커널에 접근하기 위한 방법
프로그래머는 일반적인 C 서브루틴이나 함수를 호출한다. ex) fread와 read 함수는 각각 라이브러리 루틴과 시스템 호출을 나타낸다.
```shell
nread = fread(inputbuf, OBJSIZE, numberobjs, fileptr); // 라이브러리 루틴
nread = read(filedes, inputbuf, BUFSIZE); // 시스템 호출
```
![[Pasted image 20240909170348.png]]
#### 시스템 호출과 라이브러리 서브루틴의 차이점:
###### 시스템 호출은 사용자 공간에서 커널 공간으로의 두 번의 컨텍스트 스위칭이 필요하다. 이는 단순한 함수 호출보다 시간이 더 오래 걸린다.
-  따라서 시스템 호출을 과도하게 사용하는 것을 피하는 것이 좋다.
###### 모든 시스템 호출은 헤더 파일에 정의되어 있다. 
- 시스템 호출을 사용하기 전에 올바른 헤더 파일을 포함해야 한다.
