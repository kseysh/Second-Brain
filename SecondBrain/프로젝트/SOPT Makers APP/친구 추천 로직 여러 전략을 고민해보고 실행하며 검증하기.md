이번에 SOPT Makers App팀 4기 3차 스프린트에서 익명 콕 찌르기 기능을 도입하면서 친구 추천 api 개선을 맡게 되었습니다. 
그동안은 친구 추천 로직이 같은 기수의 친구만을 추천했지만, 익명 기능이 추가되며 좀 더 여러 친구를 추천한다면 유저들이 콕 찌르기 기능을 더 잘 사용할 것이라는 기획으로 인해 친구 추천에 같은 MBTI, 같은 학교 추천이 들어가게 되었습니다.

SOPT에서는 목적 조직 형식으로 팀을 운영하고 있습니다. 저는 App팀이지만, 유저의 정보들은 playground팀에서 관리하고 있고 이 정보에 접근하기 위해서는 Playground 팀의 internal api가 필요해요

친구 추천 로직 개발 초기에는 기존 방식이었던 playground 팀의 internal api를 통해 멤버의 프로필을 모두 가져와서 기존의 친구 관계를 맺는 유저를 제외한 후 랜덤으로 추천 로직을 돌렸습니다. 따라서 기존 방식과 비슷하게 같은 MBTI 별 추천, 같은 학교 추천도 같은 로직을 사용하도록 개발하였는데요

dev에서는 잘 돌아가던 이 녀석... prod 서버에 들어가게 되니 api 호출 속도가 현저히 느려졌습니다.
dev의 playground api에서 반환되던 유저 정보의 양과 prod의 api에서 반환되는 유저 정보의 양이 다르다보니 발생한 문제인데요, 제 api의 속도만 고려했지 외부 api에서 여러 정보를 요구하다보니 외부 api에서 발생하는 부하는 고려하지 못했습니다. 
