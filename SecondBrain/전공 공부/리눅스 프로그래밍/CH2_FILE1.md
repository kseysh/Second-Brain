## File
파일은 운영 체제가 형식을 강제하지 않는다.
파일이 텍스트, 이미지등 어떤 형식이든 될 수 있다.
각 바이트는 개별적으로 주소를 지정 가능하다.
외부 장치와 일관되게 상호작용할 수 있는 인터페이스를 제공한다.
## File System
파일 시스템은 컴퓨터에서 파일을 저장하고, 조직화하며, 쉽게 찾고 접근할 수 있도록 도와주는 방법
파일 시스템은 사용자가 파일을 쉽게 찾고 사용할 수 있도록 구조화된 방식을 제공
파일 시스템은 데이터를 저장 장치(하드 디스크나 CD-ROM)에 저장
![[Pasted image 20240909171933.png]]

# UNIX primitives
UNIX 시스템에서 파일을 다루는 기본적인 함수들은 파일 디스크립터라는 정수를 통해 파일을 식별하고 관리하며, 이러한 함수들은 unbuffered I/O 방식으로 작동하여 데이터의 즉시 처리를 지원한다.

- **open**: 파일을 읽거나 쓰기 위해 열거나, 새 파일을 생성합니다.
- **create**: 빈 파일을 새로 만듭니다.
- **close**: 이전에 열었던 파일을 닫습니다.
- **read**: 파일에서 정보를 읽어옵니다.
- **write**: 파일에 정보를 씁니다.
- **lseek**: 파일 내에서 특정 바이트 위치로 이동합니다. 예를 들어, 파일의 특정 부분으로 커서를 옮기고 싶을 때 사용
- **unlink**: 파일을 삭제합니다.
- **remove**: 파일을 삭제하는 또 다른 방법입니다.
- **fcntl**: 파일과 관련된 속성을 제어합니다. 예를 들어, 파일 잠금을 설정하거나 파일 모드를 변경할 때 사용됩니다.
#### 특징
unix primitives는 unbuffered I/O로 데이터가 중간 버퍼에 저장되지 않고 바로 읽거나 쓰는 작업을 수행한다.
**open, read, write, lseek, close** 함수들이 unbuffered I/O를 제공하며, 이 함수들은 파일 디스크립터(file descriptors)와 함께 동작한다.
# File Descriptor
커널에서 열려 있는 파일을 식별하기 위해 사용됨.
파일을 다루는 데 필요한 고유한 식별자.
#### 특징
- 항상 양수인 값이며 사용되지 않는 가장 작은 정수 값이 할당된다.
- 파일을 열거나 새 파일을 생성하면, 커널은 프로세스에 파일 디스크립터를 반환한다.
file descriptor는 read 또는 write 함수에 대한 인자로 사용된다.
Unix Shell에서 프로세스가 생성될 때 기본적으로 세 개의 열린 파일(예: 표준 입력, 표준 출력, 표준 오류)이 터미널과 연결된 상태로 시작된다.
![[Pasted image 20240909173143.png]]
ex) 
read(0, \_, \_) => 키보드에서 읽음
write(1, \_, \_) => 화면에 출력
