CPU/코어에서 실행 중이던 프로세스/스레드가 다른 프로세스/스레드로 교체되는 것 (스레드 = 프로세스의 단위 즉, 프로세스는 보통 하나의 스레드를 가진다.)
여러 프로세스와 스레드를 동시에 실행시키기 위해 사용한다.
컨텍스트 스위칭은 OS 커널(각종 리소스를 관리/감독하는 역할)에 의해 실행된다.
### 컨텍스트?
프로세스/스레드의 상태 (cpu, 메모리 등등)
### 컨텍스트 스위칭은 언제 발생하는가?
주어진 time slice(quantum)를 다 사용했거나 I/O 작업을 해야하거나 다른 리소스를 기다려야 할 때 사용한다.
# context switching의 종류
## 둘의 공통점 
- 커널 모드에서 실행한다 (통제권이 커널로 넘어간다.)
- CPU의 레지스터 상태를 교체한다.
## thread context switching
같은 프로세스의 스레들끼리의 스위칭
![[Pasted image 20250103221629.png|350]]
- 스레드끼리의 context switching은 같은 프로세스에 속하기 때문에 프로세스의 메모리 영역을 공유한다. 
	- 그래서 context switching이 일어나도 메모리와 관련해서 처리해줄 부분이 적다
- 같은 프로세스의 스레드들끼리의 context switching은 커널 모드로 진입하여 서로의 CPU 상태를 저장하고, 로딩하여 다시 유저 모드로 변경하는 것에서 끝이 난다.
## process context switching
다른 프로세스까리의 스위칭
![[Pasted image 20250103222300.png|350]]
- 가상 메모리 주소 관련 처리를 추가로 수행한다. (초록색 부분) (스레드처럼 메모리를 공유하지 않기 때문)
- 초록색 부분에서는?
	- MMU(Memory Management Unit)가 switching될 메모리 공간을 바라보도록 한다.
	- TLB(가상 메모리 주소와 실제 메모리 주소의 매핑 정보를 담고 있는 캐시)를 비운다.
- 이 과정을 거쳐야 switching될 프로세스의 스레드가 로딩되었을 때 자신의 메모리 영역에 접근할 수 있게 된다.