상호 배제를 보장한다
조건에 따라 스레드가 대기 상태로 전환하는 기능을 수행한다.
## 사용 시기
- 한 번에 하나의 스레드만 실행되어야 할 때
- 여러 스레드와 협업이 필요할 때
## 모니터의 구성 요소
- [[Mutex]]
- condition variable
### condition variable
waiting queue를 가지며 조건이 충족되길 기다리는 스레드들이 대기 상태로 머문다.
#### condition variable에서 주요 동작
###### wait
thread가 자기 자신을 condition variable의 waiting queue에 넣고 대기 상태로 전환하느 것
###### signal
waiting queue에서 대기 중인 스레드 중 하나를 깨운다.
###### broadcast
waiting queue에서 대기 중인 스레드 전부를 깨운다.
## 모니터 실행 방식
![[Pasted image 20250104150449.png|350]]
- wait 상태에서 lock을 계속 쥐고 있을 수 없으므로 wait시 mutex를 다시 전달하여 lock을 푼다.
- 따라서 모니터는 두 개의 큐를 관리한다
	- entry queue: critical section에 진입을 기다리는 큐
	- waiting queue: 조건이 충족되길 기다리는 큐
## 예제: consumer producer 문제

producer는 아이템을 계속 버퍼에 넣는 역할, consumer는 버퍼에서 아이템을 가져오는 역할을 한다.

