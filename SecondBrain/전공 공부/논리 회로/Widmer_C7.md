타이밍 다이어그램 안나옴
나오면 state transition diagram으로 나올거임
7-43 synchronous counter using 4가지 중 하나 시험
## 제 7장 목표
- 동기 카운터와 비동기 카운터의 동작과 특성 설명
- MOD 숫자가 \(2<sup>N</sup>\)보다 작은 카운터 구성
- 업 카운터와 다운 카운터 구성
- 다단 카운터 연결
- 다양한 유형의 카운터 분석 및 평가
- 임의의 순서로 동작하는 동기 카운터 설계
- 서로 다른 유형의 카운터를 디코딩하는 여러 가지 방법 설명
- HDL에서 다양한 추상화 수준을 사용해 카운터 회로 설명
- 쉬프트 레지스터 카운터 구성
- 다양한 IC 레지스터 유형의 동작 설명
- HDL을 사용하여 쉬프트 레지스터와 쉬프트 레지스터 카운터 설명
- 순차 논리 시스템의 문제 해결을 위해 조합 논리 시스템의 문제 해결 기법 적용
## 7-1 비동기(리플) 카운터
- 4비트 카운터 동작 검토:
  - 시계 신호가 플립플롭(FF) A의 CLK 입력에만 적용된다.
	  - 모든 FF에서 J와 K는 HIGH이다.
  - FF A의 출력이 FF B의 CLK 역할을 한다.
	  - FF 출력 D, C, B, A는 D가 최상위 비트(MSB)인 4비트 이진수이다.
![[Pasted image 20241125121322.png|500]]
- 15번째 시계 신호의 음의 게이트 트리거(NGT) 후, 카운터 FF가 0000으로 리사이클된다.
	- 비동기 카운터는 시계와 정확히 동기화되지 않고 상태가 변경된다.
![[Pasted image 20241125121342.png|400]]
## MOD 번호가 있는 비동기 카운터
- MOD 번호는 카운터가 리사이클되기 전 거치는 상태 수와 같다.
![[Pasted image 20241125121617.png|400]]
- FFs를 더하는 것은 MOD 번호를 증가시킬 것이다.

- *주파수 분할 - 각 FF는 입력의 1/2 주파수의 출력을 가진*다.
- *마지막 카운터 플립플롭의 출력 주파수는 카운터의 MOD로 나눈 클록 주파수*입니다.
## 비동기 카운터의 신호 흐름
- 일반적으로 회로도는 왼쪽에서 오른쪽으로 그리지만, 카운터는 MSB와 LSB가 적절한 위치에 나타나도록 오른쪽에서 왼쪽으로 그린다.

## 7-2 리플 카운터의 전파 지연
- 리플 카운터는 간단하며 필요한 부품이 가장 적다.
  - 누적 전파 지연이 높은 주파수에서 문제를 일으킬 수 있다.
- 입력 펄스 사이의 주기가 카운터의 총 전파 지연보다 길면 문제가 발생하지 않는다.
  - 적절한 작동 조건:![[Pasted image 20241125122016.png|100]]
  - 최대 주파수: ![[Pasted image 20241125122027.png|100]]
- 비동기 카운터는 매우 높은 주파수에서는 유용하지 않으며, 특히 비트 수가 많은 카운터에서는 오류 패턴이 생기고 글리치가 발생할 수 있다.
![[Pasted image 20241125122112.png|300]]
## 7-3 동기(병렬) 카운터
- 동기 또는 병렬 카운터에서는 모든 FF가 시계 신호에 의해 동시에(병렬로) 트리거된다.
![[Pasted image 20241125122134.png|400]]
- 동기 카운터는 비동기 카운터보다 훨씬 높은 주파수에서 작동할 수 있다.

- 각 FF에는 J와 K 입력이 있으며, 하위 FF의 출력이 모두 HIGH일 때만 HIGH가 된다.
![[Pasted image 20241125122250.png|400]]
- 총 전파 지연은 모든 FF에 대해 동일하게 발생합니다.

- 특정 시계 NGT에서 올바르게 카운트하려면 NGT 시 J = K = 1인 FF만 토글되어야 한다.
![[Pasted image 20241125122345.png|100]]
## 7-4 MOD 번호가 ( 2<sup>N</sup> ) 미만인 카운터
- 기본 동기 카운터는 ( 2<sup>N</sup> )과 같은 MOD 번호로 제한된다.
  - 여기서 N은 FF의 수이다.
![[Pasted image 20241125122427.png|300]]
- MOD-8 카운터에서 카운트가 6(110)에 도달하면 클리어하여 MOD-6 카운터를 만든다.
- 기본 카운터를 수정해 \( 2^N \)보다 작은 MOD 숫자를 생성할 수 있다.
  - 일반 카운팅 시퀀스의 일부 상태를 건너뛰게 설정해 MOD 번호를 변경한다.
- MOD 번호를 변경한다
  - 요구되는 MOD가 \( 2^N \)보다 작거나 같은 최소 \( 2^N \)을 찾는다.
  - NAND 게이트를 모든 FF의 비동기 CLEAR 입력에 연결한다.
  - 원하는 카운트에서 HIGH가 되는 FF를 결정해 이 FF 출력들을 NAND 게이트 입력에 연결한다.

![[Pasted image 20241125122619.png|500]]
원하는 개수에서 높은 FF를 결정하고 이러한 FF의 출력을 NAND 게이트 입력에 연결합니다.
#### MOD-6 카운터의 상태 전이 다이어그램
![[Pasted image 20241125122644.png|200]]
![[Pasted image 20241125122826.png|200]]
- 각 원은 가능한 카운터 상태를 나타낸다.
- 화살표는 입력 시계 신호에 따라 한 상태가 다른 상태로 변경되는 방식을 나타낸다.
- 카운터가 111 상태로는 진입할 수 없으므로 111로의 화살표는 없다.
  - 전원이 켜질 때 FF가 무작위 상태로 설정될 수 있어 111 상태가 발생할 수 있다.

- 카운터 상태는 일반적으로 LED로 표시된다.
  - MOD-6 카운터는 HIGH 출력 시 LED를 켠다.
![[Pasted image 20241125122851.png|300]]

- 디케이드 카운터는 이벤트를 세거나 결과를 10진수 형태로 표시하는 데 널리 사용된다.
  - 디케이드 카운터는 시퀀스와 관계없이 10개의 고유한 상태를 가진 카운터이다.
  - BCD 카운터는 2진수 0000에서 1001까지 세는 디케이드 카운터이다.

- 모든 MOD-10 카운터는 디케이드 카운터이다.
![[Pasted image 20241125123031.png|300]]
- MOD-60 카운터
![[Pasted image 20241125123056.png|300]]

## 7-5 동기 다운 카운터와 업/다운 카운터
- 동기 다운 카운터는 업 카운터와 유사한 방식으로 구성된다.
  - 고차수 J, K 입력을 제어하기 위해 반전된 FF 출력을 사용한다.
- 동기형 MOD-16 다운 카운터와 출력 파형:
![[Pasted image 20241125123124.png|300]]

  - 병렬 업/다운 카운터에서 제어 입력은 후속 FF들의 J와 K 입력에 공급되는 값을 제어한다.
	  - 정상 FF 출력 또는 반전 FF 출력을 사용할 수 있다.
![[Pasted image 20241125123144.png|400]]
  
- 각 상태의 버블에서 나오는 두 개의 화살표는 조건부 전이를 나타낸다. 
  ![[Pasted image 20241125123211.png|300]]
  - 다음 상태는 제어 입력에 적용된 논리 레벨에 따라 결정된다.
## 7-6 설정 가능한 카운터
- 설정 가능한 카운터는 원하는 시작점으로 동기 또는 비동기 방식으로 설정할 수 있다.
	  - 프리셋(preset)은 카운터를 병렬 로딩(parallel loading)하는 것과 동일한 의미로 사용된다.
![[Pasted image 20241125123306.png|500]]
  - 병렬 데이터 입력과 비동기 병렬 로드가 가능한 동기 카운터.
  - PL짝대기가 1이면 동기 카운터, 0이면 비동기 카운터가 된다.
## 7-7 IC 동기 카운터
![[Pasted image 20241125123340.png|150]]
- 카운터는 4개의 FF를 포함한다.
- FF는 CLK 입력에서 양의 게이트 트리거(PGT)로 트리거된다.
- 활성-LOW 비동기 CLEAR 입력이 있다.
- A, B, C, D 입력에 활성-LOW LOAD 입력을 적용하여 임의의 값으로 설정할 수 있다.

![[Pasted image 20241125123424.png|150]]
- 이 IC 카운터 칩 시리즈에는 추가 출력 핀이 있으며, RCO는 카운터의 마지막 또는 최종 상태를 감지(디코드)하는 활성-HIGH 출력이다.
  - 다단 또는 멀티스테이지(multistage) 연결을 통해 더 큰 카운터를 만들 때 유용하다.

- TTL 74ALS160 – 74ALS163 기능 테이블: - 시험에 나오면 표는 주어짐 외울 필요 x
![[Pasted image 20241125123458.png|400]]
- 여러 칩을 연결해 더 높은 카운팅 범위를 가진 회로를 쉽게 만들 수 있도록 설계된 표준 IC 카운터가 많다.
	  - 멀티스테이지 또는 캐스케이딩(cascading) 구조로 사용할 수 있다.
![[Pasted image 20241125123528.png|500]]
  
- 74ALS190 및 74ALS191 시리즈 IC는 순환형 4비트 카운터이다.
![[Pasted image 20241125123607.png|400]]
## 7-8 카운터 디코딩
- 디코딩은 2진수 출력을 10진수 값으로 변환하는 것으로, 이는 즉시 인식할 수 있는 형태입니다.
- 여기 보여진 활성-높음 디코더는 0에서 7까지의 각 10진수를 나타내는 LED를 켤 수 있습니다.
![[Pasted image 20241125123742.png|400]]

- 디코딩은 이진 출력을 10진 값으로 변환하여 즉시 인식할 수 있도록 하는 과정이다.
![[Pasted image 20241125123805.png|300]]
  
- 활성-HIGH 디코더를 활성-LOW 타입으로 변경할 수도 있다. AND 게이트를 NAND 게이트로 대체하면 활성-LOW 디코딩이 가능하다.
	- 디코더 출력은 기본적으로 HIGH 신호를 생성하며, 디코딩 중인 숫자가 발생할 때만 LOW로 전환된다.

- BCD 카운터는 10개의 상태를 가지며, 각 상태는 0에서 9까지의 10개의 10진수를 표현한다.
  - 이 10개의 출력은 카운터 FF의 상태를 나타내는 개별 LED 표시기를 제어할 수 있다.
  - 10개의 개별 LED 대신, BCD 카운터는 일반적으로 단일 디스플레이 장치에 카운트를 표시한다.
![[Pasted image 20241125124100.png|300]]
## 7-9 동기 카운터 분석 
![[Pasted image 20241125124257.png|400]]
- 동기 업 카운터는 원하는 카운트 시퀀스를 생성하도록 맞춤 설계할 수 있다.
![[Pasted image 20241125124324.png|400]]
- 동기 업 카운터의 제어 입력 표현: **어렵고 시험 나옴 중요**

![[Pasted image 20241125124400.png|400]]
  - 카운터의 각 상태에 대한 FF 제어 입력을 예측해 카운터 설계를 분석한다.
  - 이를 위해 현재 상태/다음 상태 테이블을 작성하는 것이 유용하다.

![[Pasted image 20241125124539.png|400]]
- 동기 업 카운터의 상태 전이 다이어그램과 파형:
  - 하이라이트된 정보는 이 카운터 설계가 자가 교정 기능을 갖추고 있음을 나타낸다.

![[Pasted image 20241125124606.png|500]]
- D형 FF로 구성된 동기 카운터:
  - 제어 회로는 일반적으로 동일한 기능의 JK형 카운터보다 더 복잡하지만, 동기 입력 수는 절반으로 줄어든다.

# 7-10 동기식 카운터 설계 (excitation table 외우기..)

- 동기식 카운터 구성에서 J-K 플립플롭을 사용하는 일반적인 설계 방법.
    - 원하는 비트 수(FF)와 원하는 카운팅 시퀀스를 결정합니다.
    - 모든 가능한 상태를 보여주는 상태 전이 다이어그램을 작성하며, 원하는 카운팅 시퀀스에 포함되지 않는 상태도 포함합니다.
	- 상태 전이 다이어그램을 사용하여 현재 상태와 다음 상태를 나열하는 표를 설정합니다.
	- 각 J 및 K 입력에 대한 열을 추가하고, 다음 상태로 전이하기 위해 필요한 레벨을 표시합니다.
	- 각 입력에서 필요한 레벨을 생성하는 논리 회로를 설계하고 최종 식을 구현합니다.
- 스테퍼 모터는 연속적으로 회전하지 않고 단계별로 회전하며, 일반적으로 한 단계에 15도씩 회전합니다.
    - 동기식 카운터 설계의 실제 응용 사례로, 출력 레벨에 따라 회전 방향을 변경할 수 있습니다.
![[Pasted image 20241125124634.png|400]]
이거 보고 7-43 풀기
![[Pasted image 20241125124707.png|400]]
![[Pasted image 20241125124718.png|400]]
# 7-14 상태 기계(State Machines)
![[Pasted image 20241125124732.png|300]]
- 상태 기계(State Machine)란 미리 정해진 상태를 따라 순서대로 진행하는 회로를 의미합니다.
    - 클럭 및 기타 입력 신호에 의해 제어됩니다.
- 카운터는 정기적인 숫자 카운트 시퀀스를 가지는 순차 회로를 의미합니다.
	- 실제로 카운트되는 것은 클럭 펄스입니다.
	    - 하지만 이 펄스들은 다양한 종류의 사건을 나타낼 수 있습니다.
- 두 용어의 일반적인 차이:
    - 카운터는 사건을 세는 데 주로 사용되며,
    - 상태 기계는 사건을 제어하는 데 주로 사용됩니다.

![[Pasted image 20241125124801.png|400]]
- 카운터와 상태 기계의 블록 다이어그램.

![[Pasted image 20241125124817.png|400]]
- 신호등 제어기 상태 기계.

# 7-15 레지스터 데이터 전송
- 레지스터의 다양한 유형은 다음에 따라 분류될 수 있습니다…
    - 레지스터에 데이터를 저장하기 위한 입력 방식.
    - 레지스터에서 데이터를 출력하는 방식.
- 직렬 데이터가 레지스터를 통해 흐르는 것은 일반적으로 시프트라고 하며, 왼쪽 또는 오른쪽으로 이동할 수 있습니다.
    - 직렬 출력 데이터가 동일한 레지스터의 입력으로 되돌아가는 것은 데이터 회전(data rotate)이라고 합니다.
- 병렬 입력은 일반적으로 레지스터 로드(register load)라고 합니다.

# 7-15 & 16 레지스터 데이터 전송/집적 회로 레지스터
- 병렬 입력/병렬 출력(PIPO)
여러 비트를 동시에 저장할 수 있는 플립플롭의 그룹으로, 저장된 이진 값의 모든 비트를 직접 사용할 수 있습니다.
![[Pasted image 20241125124852.png|400]]

- 74ALS174/74HC174
![[Pasted image 20241125124915.png|400]]
- 직렬 입력/직렬 출력(SISO)
![[Pasted image 20241125124949.png|400]]
데이터가 한 번에 한 비트씩 로드되어 한 번에 한 비트씩 이동하며, 각 클럭 펄스마다 레지스터의 반대쪽 끝을 향해 이동하여 처음 로드된 순서대로 한 비트씩 출력됩니다.

- 74ALS166/74HC166
![[Pasted image 20241125125040.png|400]]

![[Pasted image 20241125125112.png|400]]
- 8비트 병렬 입력/직렬 출력(PISO)
![[Pasted image 20241125125126.png|400]]
직렬 시프팅은 항상 동기식이며, 클럭이 필요하여 각 적절한 클럭 엣지에서 입력 데이터가 한 번에 한 비트씩만 이동합니다.

![[Pasted image 20241125125157.png|400]]
![[Pasted image 20241125125213.png|400]]
![[Pasted image 20241125125244.png|400]]
# 7-17 시프트 레지스터 카운터

- 시프트 레지스터 카운터는 피드백을 사용합니다—레지스터의 마지막 플립플롭 출력이 첫 번째 플립플롭에 연결됩니다.
- 링 카운터는 마지막 플립플롭이 값을 첫 번째 플립플롭으로 이동하도록 연결된 순환 시프트 레지스터입니다.
![[Pasted image 20241125125304.png|400]]
- 링 카운터가 제대로 작동하려면 하나의 플립플롭만 1 상태에 있고 나머지는 모두 0 상태로 시작해야 합니다.
    - 초기 전원 상태는 예측할 수 없으므로, 카운터는 클럭 펄스가 적용되기 전에 프리셋됩니다.
![[Pasted image 20241125125325.png|200]]
전원이 켜질 때 링 카운터가 1000 상태에서 시작하도록 보장하는 회로.

- Johnson 또는 트위스트 링 카운터는 마지막 플립플롭의 출력이 첫 번째 플립플롭의 입력으로 반전되어 연결됩니다.
![[Pasted image 20241125125356.png|400]]
- 주어진 MOD 수에 대해 Johnson 카운터는 링 카운터가 필요로 하는 플립플롭 수의 절반만 필요로 합니다.
    - 디코딩 게이트가 필요하며, 링 카운터는 필요하지 않습니다.
- Johnson 카운터는 카운트당 한 개의 논리 게이트를 사용하여 디코드합니다.
    - 각 게이트는 플립플롭 수와 상관없이 두 개의 입력만 필요합니다.
![[Pasted image 20241125125416.png|400]]
- 링 카운터 또는 Johnson 카운터는 IC로 거의 제공되지 않습니다.
    - 시프트 레지스터 IC를 사용하여 링 카운터 또는 Johnson 카운터로 배선하는 것은 상대적으로 간단합니다.
- 일부 CMOS Johnson 카운터 IC에는 카운터와 같은 칩에 완전한 디코딩 회로가 포함되어 있습니다.
    - (74HC4017, 74HC4022)

# 7-18 문제 해결

- 플립플롭, 카운터, 레지스터는 순차 논리 시스템의 주요 구성 요소입니다.
    - 순차 시스템은 조합 논리 시스템과 동일한 유형의 오류에 취약합니다.
        - 개방 회로, 단락, 내부 IC 결함 등.
- 기본 문제 해결 절차는 여전히 적용됩니다.
    - 시스템 동작을 관찰합니다.
    - 분석적 추론을 통해 가능한 원인을 파악합니다.
    - 테스트 장비를 사용하여 정확한 오류를 격리합니다.