# 코드 리뷰
- 코드 리뷰는 내가 작성한 코드를 다른 사람에게 검사 받는 시간이 아니라, 최선의 코드를 작성하기 위한 공동의 노력
- 작성 코드에 대하여 결재를 받는 단계가 아니며, 서로 이해할 수 있는 코드를 만들자는 것이 목표임
## 코드 리뷰의 오해
- 코드리뷰를 하면 코드가 완벽해진다.
	- 세상에 완벽한 코드는 없고, 더 나은 코드만 있다.
	- 완벽한 코드에 집착하면 개발 진행 속도 역시 영향을 받는다.
- 리뷰 승인은 함께 책임지는 것이다.
	- ==코드 리뷰는 책임을 묻기 위한 활동이 아니다==.
	- 따라서 코드 리뷰를 승인하는 것 역시 책임을 지겠다는 뜻으로 받아들여서는 안 됨 
	- 책임 소재를 묻는 순간 리뷰어도 쉽게 코드 리뷰 승인을 할 수 없게 됨
- 시니어가 주니어를 가르치기 위한 목적이다
	- ==배움은 장점 중 하나일 뿐, 코드 리뷰의 목적은 시니어가 주니어를 가르치는 것이 아니며, 일방향 적인 리뷰는 마치 숙제 검사를 하듯 압박감을 줄 수 있음==
## 코드 리뷰 단계에서 신경 쓰는 것들
- 디자인 - 코드가 시스템에 적합하게 잘 설계되었는가? 
- 기능성 - 코드가 작성자의 의도대로 작동하는가? 코드의 동작 방식이 사용자에게 적합한가? 
- 복잡성 - 코드를 더 간단하게 만들 수 있을까? 다른 개발자가 미래에 이 코드를 만났을 때 쉽게 이해하고 사용할 수 있을까? 
- 테스트 - 코드에 올바르고 잘 설계된 자동화된 테스트가 있는가? 이름 짓기 - 변수, 클래스, 메서드 등에 명확한 이름을 사용했는가? 
- 주석 - 주석이 명확하고 유용한가? 
- 스타일 - 코드가 스타일 가이드를 따랐는가? 
- 문서화 - 개발자가 관련 문서도 업데이트했는가?

## 코드 리뷰 과정
- 코드 변경
	- 코드 리뷰 시스템에 자동 분석 도구가 포함 되어 있을 경우, 자동 코드 분석 도구들이 실행되어 자동으로 검사를 할 수 있는 부분들을 먼저 검사 해 줌 (예: 라인 수 당 글자 수 등)
- 리뷰 요청
	- 작성자가 변경 사항의 차이점과 코드 리뷰 시스템에서 제공하는 자동 분석 도구의 결과에 만족한다면, 그들은 변경 사항을 한 명 이상의 리뷰어에게 이메일로 보냄
- 코멘트
	- 댓글은 기본적으로 미해결로 표시되며, 이는 작성자가 해결해야 하는 중요한 의견임을 의미함.
	- 만약 코드 리뷰 시스템에 자동 코드 분석 도구의 결과가 있는 경우, 코드 리뷰에 참고할 수 있도록 리뷰어들에게도 표시되는 것이 좋음
	- 코멘트에 대한 중간 저장이 가능할 수 있다면 더 좋음
		- 리뷰어들은 전체 변경 사항을 검토한 후에 한꺼번에 완전한 의견을 제공할 수 있는 장점이 있음
- 변경 사항 수정 및 코멘트에 답변하기
	- 작성자는 코멘트들을 기반으로 변경 사항을 수정하고 새로운 변경 사항을 업로드하며 리뷰어들에게 다시 답변함
	- 저자는 (최소한) 모든 미해결된 코멘트들에 대응하며, 코드를 변경하거나 코멘트들에 답변하고 댓글 유형을 해결된 것으로 변경함으로써 처리되었다는 것을 명시해야 됨
	- “코멘트” 단계와 “변경 사항 수정 및 코멘트에 답변하기” 단계는 여러 번 반복될 수 있음
- 변경 승인
	- 리뷰어들이 변경 사항의 최신 상태에 만족할 때, 그들은 변경 사항을 승인하고 "나에게 좋아 보임" (LGTM)으로 표시
- 변경 사항 커밋
	- 코드 리뷰 시스템 및 빌드 시스템에서 추가 자동화 검사 도구가 존재할 경우, 이에 대한 검사를 실행함

## 코드 리뷰 시 주의해야 하는 것
- 대부분의 소프트웨어 회사들은 이와 관련된 공식 스타일 가이드가 있음 
- 소프트웨어 프로젝트에서 개인적인 스타일을 강제하는 것은 금지되어 있으며, 따라서 개인의 선호도로 스타일 가이드가 정해지면 안 됨
- 24시간 내 (합리적인 시간)에 답변하라
- 도구 사용을 방해하지 말아라

## Bad smells
가독성, 확장성, 유연성을 부족하게 만드는 코딩 패턴들을 지칭하는 말

## 예시
변경 
![[Pasted image 20231005112145.png]]
변경 후
![[Pasted image 20231005112158.png]]