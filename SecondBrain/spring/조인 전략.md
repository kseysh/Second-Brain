## 조인 전략
엔티티 각각을 모두 테이블로 만들고, 자식 테이블이 부모 테이블의 기본 키를 받아서 기본 키 + 외래 키로 사용하는 전략
주로 조회시에 사용한다.

### 주의할 점
객체는 타입으로 구분할 수 있지만, 테이블은 타입의 개념이 없기 때문에 타입을 구분하는 컬럼을 추가해야 한다.
![[Pasted image 20231105211024.png]]
> DTYPE이 구분 컬럼으로 사용된다.

### 장점
- 테이블이 정규화됨
- 외래 키 참조 무결성 제약조건을 활용 가능
- 저장공간의 효율적인 사용
### 단점
- 조회할 때 조인이 많이 사용 ⇒ 성능이 저하될 수 있음
- 조회 쿼리의 복잡성
- 데이터를 등록할 INSERT SQL이 2번 실행됨

jPA 표준 명세는 구분 컬럼을 사용하도록 하지만 하이버네이트를 포함한 몇몇 구현체는 구분 컬럼(`@DiscriminatorColumn`) 없이도 동작한다.

>기본적으로 정석이라고 생각해도 괜찮다.
=> 객체랑도 잘 맞고 정규화도 잘 되어 설계가 잘 되기 때문.
### 부모 클래스
#### @Inheritance
부모 클래스에 상속 매핑임을 명시해주기 위한 어노테이션
`@Inheritance(strategy = InheritanceType.JOINED)`
#### @DiscriminatorColumn
부모 클래스에 구분 컬럼 지정. 이 컬럼으로 저장된 자식 테이블을 구분할 수 있다. → default : DTYPE
`@DiscriminatorColumn(name = "DTYPE")`
> DTYPE은 항상 있는 것이 좋다.
### 자식 클래스
#### @DiscriminatorValue
default => 엔티티의 클래스 이름

