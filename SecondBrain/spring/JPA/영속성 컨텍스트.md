>엔티티를 영구 저장하는 환경

## 요청이 들어왔을 때 DB에 접근하는 과정
![[Pasted image 20231006111430.png]]
EntityManagerFactory는 하나만 생성해서 애플리케이션 전체에서 공유해야 한다.
엔티티 매니저는 쓰레드간에 공유하면 안된다. (사용하고 바로 닫는다.)
- 엔티티 매니저 팩토리는 엔티티 매니저를 생성한다.
- 엔티티 매니저는 커넥션풀을 이용해 DB를 사용한다.

# 영속성 컨텍스트

