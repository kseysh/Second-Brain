# @Id


# @GeneratedValue
![[Pasted image 20231012201239.png]]
## IDENTITY 전략

DB에 값이 들어가야 ID값을 알 수 있다.
하지만 영속성 컨텍스트에서 관리되려면 항상 PK가 있어야 한다.
그래서 원래는 COMMIT시에 INSERT 쿼리가 날아가지만,  IDENTITY전략에서는 `em.persist(member)`를 하자마자 INSERT 쿼리가 날아간다.


![[Pasted image 20231012202455.png]]

![[Pasted image 20231012201316.png]]


## SEQUNCE 전략
### 매핑
![[Pasted image 20231012201646.png]]

![[Pasted image 20231012201732.png]]

## TABLE 전략

>잘 사용하지는 않는다!

![[Pasted image 20231012201954.png]]

![[Pasted image 20231012202011.png]]
![[Pasted image 20231012202024.png]]

# 권장하는 식별자 전략
![[Pasted image 20231012202156.png]]
대체키 : SEQUENCE를 사용하거나 UUID를 사용하거 키 생성전략을 사용하는 것이 좋다. 비즈니스에 관련된 값을 PK로 사용하지 말자!

