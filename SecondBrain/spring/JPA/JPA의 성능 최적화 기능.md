# 1차 캐시와 동일성 보장
### 같은 [[트랜잭션]] 안에서는 같은 [[엔티티]]를 반환
![[Pasted image 20231005212129.png]]
위 사진처럼 JPA가 SQL로 가져왔던 정보를 1차 캐싱해서 가져옴으로써 SQL을 한 번만 실행할 수 있으며, 따라서 m1과 m2가 같을 수 있다.
> 또한 약간의 조회 성능이 향상된다.
# 트랜잭션을 지원하는 쓰기 지원

### INSERT 
![[Pasted image 20231005212324.png]]
트랜잭션을 커밋할  때까지 INSERT SQL을 모아서 커밋하는 순간 데이터베이스에 INSERT SQL을 모아서 보내준다.
### UPDATE
![[Pasted image 20231005212554.png]]
다음에 다시 보기!
![[지연 로딩과 즉시 로딩]]