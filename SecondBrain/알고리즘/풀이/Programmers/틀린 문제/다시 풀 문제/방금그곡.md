# 나의 틀린 풀이
```cpp
#include <string>
#include <vector>
#include <sstream>
#include <iostream>

using namespace std;

int getAllTime(string startTime, string endTime){
    int sh = stoi(startTime.substr(0,2));
    int eh = stoi(endTime.substr(0,2));
    int sm = stoi(startTime.substr(3,2));
    int em = stoi(endTime.substr(3,2));
    
    return (eh - sh) * 60 + em - sm;
}

int getPlayTime(const string &music){
    int playTime= 0;
    for(char c : music){
        if(c == '#') continue;
        playTime++;
    }
    return playTime;
}

string splitMusic(int playTime, string music){
    string splitedMusic = "";
    for(int i = 0; i < playTime; i++){
        splitedMusic += music[i];
        if(music[i] == '#') playTime++;
    }
    return splitedMusic;
}

string getFullMusic(int playTime, string music){
    int musicPlayTime = getPlayTime(music);
    if(musicPlayTime >= playTime) return splitMusic(playTime, music);
    int diff = playTime - musicPlayTime;
    for(int i = 0; i < diff; i++){
        if(music[i] == '#') diff++;
        music += music[i];
    }
    if(music.size() < diff && music[diff] == '#') return music + '#';
    return music;
}

bool isMatch(int i, const string &m, const string &fullMusic){
    for(int j = 0; j < m.size(); j++){
        if(j + i >= fullMusic.size()) return false;
        if(m[j] != fullMusic[j + i]) return false;
    }
    if(m.size() + i < fullMusic.size() && fullMusic[m.size() + i] == '#') return false;
    cout << "fm: "<< fullMusic.substr(i, m.size()) << '\n';
    return true;
}

bool isMatchMusic(const string &m, const string &fullMusic){
    if(m.size() > fullMusic.size()) return false;
    for(int i = 0; i < fullMusic.size(); i++){
        if(isMatch(i, m, fullMusic)) return true;
    }
    return false;
}

string solution(string m, vector<string> musicinfos) {
    string answer = "(None)";
    int answerPlayTime = 0;
    
    for(string s : musicinfos){
        vector<string> musicInfo;
        stringstream ss(s);
        string token;
        while(getline(ss, token, ',')){
            musicInfo.push_back(token);
        }
        string startTime = musicInfo[0];
        string endTime = musicInfo[1];
        string title = musicInfo[2];
        string music = musicInfo[3];
        
        int playTime = getAllTime(startTime, endTime);
        string fullMusic = getFullMusic(playTime, music);
        cout << fullMusic << "\n";
        if(answerPlayTime < playTime && isMatchMusic(m, fullMusic)) {
            answer = title;
            answerPlayTime = playTime;
        }
    }
    
    return answer;
}
```
다시 푼다면
1. \#이 붙은 음을 다른 음으로 치환하고 시작하여 문자열 처리를 편하게 함 => 이러면 전체에서 \#을 관리 안해도 될듯
	1. 이렇게 푸니까 답지 안보고 풀림

# 다시 푼 풀이
```cpp
#include <string>
#include <vector>
#include <sstream>
// #include <iostream>

using namespace std;

int getAllTime(string startTime, string endTime){
    int sh = stoi(startTime.substr(0,2));
    int eh = stoi(endTime.substr(0,2));
    int sm = stoi(startTime.substr(3,2));
    int em = stoi(endTime.substr(3,2));
    
    return (eh - sh) * 60 + em - sm;
}

string getFullMusic(int playTime, string music){
    int musicPlayTime = music.size();
    if(musicPlayTime >= playTime) return music.substr(0, playTime);
    int diff = playTime - musicPlayTime;
    for(int i = 0; i < diff; i++){
        music += music[i];
    }
    return music;
}

bool isMatch(int i, const string &m, const string &fullMusic){
    for(int j = 0; j < m.size(); j++){
        if(j + i >= fullMusic.size()) return false;
        if(m[j] != fullMusic[j + i]) return false;
    }

    // cout << "fm: "<< fullMusic.substr(i, m.size()) << '\n';
    return true;
}

bool isMatchMusic(const string &m, const string &fullMusic){
    if(m.size() > fullMusic.size()) return false;
    for(int i = 0; i < fullMusic.size(); i++){
        if(isMatch(i, m, fullMusic)) return true;
    }
    return false;
}

string changeMusic(string music){
    string changedMusic = "";
    for(int i = 0; i < music.size(); i++){
        if(i + 1 < music.size() && music[i + 1] == '#'){
            changedMusic += music[i] + 32;
            i++;
        }else{
            changedMusic += music[i];
        }
    }
    return changedMusic;
}

string solution(string m, vector<string> musicinfos) {
    string answer = "(None)";
    int answerPlayTime = 0;
    
    for(string s : musicinfos){
        vector<string> musicInfo;
        stringstream ss(s);
        string token;
        while(getline(ss, token, ',')){
            musicInfo.push_back(token);
        }
        string startTime = musicInfo[0];
        string endTime = musicInfo[1];
        string title = musicInfo[2];
        m = changeMusic(m);
        // cout << m <<'\n';
        string music = changeMusic(musicInfo[3]);
        // cout << music <<'\n';
        int playTime = getAllTime(startTime, endTime);
        string fullMusic = getFullMusic(playTime, music);
        // cout << fullMusic << "\n";
        if(answerPlayTime < playTime && isMatchMusic(m, fullMusic)) {
            answer = title;
            answerPlayTime = playTime;
        }
    }
    
    return answer;
}
```
교훈: 전처리 과정을 할 수 있다면 해야 이후 과정에서 불필요한 예외 처리를 하지 않을 수 있다.
전처리 과정을 할 수 있는지 꼭 확인하자
예외 케이스 잘 확인!!

and 대문자 -> 소문자는 +27이 아닌 +32다.

const int diff = 'A' - 'a'; 를 활용하면 더 가독성 있고 좋은 코드가 되는 듯 하다.

```cpp
vector<string> musicInfo;
stringstream ss(s);
string token;
while(getline(ss, token, ',')){
	musicInfo.push_back(token);
}
```
이 방식을 이용해 delimeter단위로 자르는 것도 확인하자.