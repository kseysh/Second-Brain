```cpp
#include <iostream>
#include <algorithm>
#include <climits>

using namespace std;

int row, col;
int grid[5][5];

int getSum(int sx, int sy, int ex, int ey) {
    int result = 0;
    for (int y = sy; y < ey; y++) {
        for (int x = sx; x < ex; x++) {
            result += grid[y][x];
        }
    }
    return result;
}

int main() {
    cin >> row >> col;

    for (int i = 0; i < row; i++) {
        for (int j = 0; j < col; j++) {
            cin >> grid[i][j];
        }
    }

    int result = INT_MIN;

    for (int y1 = 0; y1 < row; y1++) {
        for (int x1 = 0; x1 < col; x1++) {
            for (int h1 = 1; h1 <= row; h1++) {
                for (int w1 = 1; w1 <= col; w1++) {
                    int sx1 = x1, sy1 = y1;
                    int ex1 = x1 + w1, ey1 = y1 + h1;
                    if (ex1 > col || ey1 > row) continue;

                    for (int y2 = 0; y2 < row; y2++) {
                        for (int x2 = 0; x2 < col; x2++) {
                            for (int h2 = 1; h2 <= row; h2++) {
                                for (int w2 = 1; w2 <= col; w2++) {
                                    int sx2 = x2, sy2 = y2;
                                    int ex2 = x2 + w2, ey2 = y2 + h2;
                                    if (ex2 > col || ey2 > row) continue;

                                    // 겹치는 경우 건너뜀
                                    if (!(ex1 <= sx2 || ex2 <= sx1 || ey1 <= sy2 || ey2 <= sy1)) continue;

                                    // 합 계산
                                    int sum = getSum(sx1, sy1, ex1, ey1) + getSum(sx2, sy2, ex2, ey2);
                                    result = max(result, sum);
                                }
                            }
                        }
                    }
                }
            }
        }
    }

    cout << result;
    return 0;
}
```
무려 8중 for문...