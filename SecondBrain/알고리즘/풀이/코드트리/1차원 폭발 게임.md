```cpp
#include <iostream>
using namespace std;

int n, m, endOfArr, endOfTemp;
int arr[101];
int temp[101];
bool didExplode;

void fillZero(int startIdx, int endIdx){
    for(int i = startIdx; i <= endIdx; i++){
        arr[i] = 0;
    }
}

void gravity(){
    endOfTemp = 0;
    for(int i = 0; i <= endOfArr; i++){
        if(arr[i] != 0){
            temp[endOfTemp++] = arr[i];
        }
    }
    for(int i = 0; i < endOfTemp; i++){
        arr[i] = temp[i];
    }
    endOfArr = endOfTemp - 1;
}

void checkBomb(int startIdx, int endIdx){
    if(endIdx - startIdx + 1 >= m){
        fillZero(startIdx, endIdx);
        didExplode = true;
    }
}

void output(){
    cout << endOfArr + 1 << '\n';
    for(int i = 0; i <= endOfArr; i++){
        cout << arr[i] << '\n';
    }
}

int main() {
    cin >> n >> m;
    for(int i = 0; i < n; i++){
        cin >> arr[i];
    }
    endOfArr = n - 1;

    didExplode = true;
    while(didExplode){
        didExplode = false;
        int startIdx = 0;
        int prevValue = arr[0]; // 

        for(int cIdx = 1; cIdx <= endOfArr; cIdx++){
            if(arr[cIdx] != prevValue){
                checkBomb(startIdx, cIdx - 1);
                startIdx = cIdx;
            }
            prevValue = arr[cIdx];
        }
        checkBomb(startIdx, endOfArr); // Handle the last group
        gravity();
    }

    output();
    return 0;
}
```

## 다시 푼 문제
```java
import java.util.*;

public class Main {
    static class Bomb {
        int value, count;
        Bomb(int v, int c){ value = v; count = c; }
    }

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int N = sc.nextInt(), M = sc.nextInt();
        LinkedList<Bomb> ll = new LinkedList<>();

        for(int i = 0; i < N; i++){
            int value = sc.nextInt();
            if(!ll.isEmpty() && ll.getLast().value == value){
                ll.getLast().count++;
            } else {
                ll.add(new Bomb(value, 1));
            }
        }

        boolean exploded;
        do {
            exploded = false;
            Iterator<Bomb> it = ll.iterator();
            while(it.hasNext()){
                Bomb b = it.next();
                if(b.count >= M){
                    it.remove();
                    exploded = true;
                }
            }

            // 인접한 폭탄 병합
            ListIterator<Bomb> merge = ll.listIterator();
            while(merge.hasNext()){
                Bomb cur = merge.next();
                if(merge.hasNext()){
                    Bomb nxt = merge.next();
                    if(cur.value == nxt.value){
                        cur.count += nxt.count;
                        merge.remove(); // nxt 삭제
                        merge.previous(); // 커서를 cur로 되돌림
                    } else {
                        merge.previous(); // nxt를 다시 대상으로
                    }
                }
            }
        } while(exploded);

        int sum = 0;
        for(Bomb b : ll) sum += b.count;
        System.out.println(sum);
        for(Bomb b : ll)
            for(int i = 0; i < b.count; i++)
                System.out.println(b.value);
    }
}

```
또 틀림...