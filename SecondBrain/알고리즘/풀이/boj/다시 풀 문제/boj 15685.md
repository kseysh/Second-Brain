# 나의 풀이 (너무 오래 걸림)
```cpp
#include <vector>
#include <iostream>
#define MAX_LEN 100
using namespace std;

bool map[MAX_LEN + 2][MAX_LEN + 2]; // 가로


void draw(int y, int x, int d, int g){
    vector<vector<pair<bool, bool>>> generations(g + 1, vector<pair<bool, bool>>()); // 가로인지, 양수인지
    if(g <= 1) generations = vector<vector<pair<bool, bool>>>(2, vector<pair<bool, bool>>());
    if(d == 0){
        generations[0].push_back({true, true});
        if(g > 0) generations[1].push_back({false, false});
    } 
    else if(d == 1){
        generations[0].push_back({false, false});
        if(g > 0) generations[1].push_back({true, false});
    } 
    else if(d == 2){
        generations[0].push_back({true, false});
        if(g > 0) generations[1].push_back({false, true});
    } 
    else if(d == 3){
        generations[0].push_back({false, true});
        if(g > 0) generations[1].push_back({true, true});
    } 

    for(int i = 2; i <= g; i++){
        for(int j = 0; j < i - 1; j++){
            for(pair<bool, bool> p : generations[j]){
                generations[i].push_back({p.first, !p.second});
            }
        }
        for(pair<bool, bool> p : generations[i - 1]){
            generations[i].push_back({p.first, p.second});
        }
    }
    
    
    int cy = y;
    int cx = x;
    map[cy][cx] = true;
    for(auto generation : generations){
        for(auto a : generation){
            if(a.first){ // 가로
                if(a.second){ // 양수
                    cx++;
                }else{// 음수
                    cx--;
                }
            }else{ // 세로
                if(a.second){ // 양수
                    cy++;
                }else{// 음수
                    cy--;
                }
            }
            map[cy][cx] = true;
        }
    }
    return;
}

int main(){
    int n, x, y, d, g;
    cin >> n;
    for(int i = 0; i < n; i++){
        cin >> x >> y >> d >> g;
        draw(y, x, d, g);
    }

    int answer = 0;
    for(int i = 0; i < MAX_LEN; i++){
        for(int j = 0; j < MAX_LEN; j++){
            if(map[i][j] && map[i+1][j] && map[i+1][j+1] && map[i][j+1]) answer++;
        }
    }
    cout << answer;
    
    return 0;
}
```

# 다른 사람의 풀이
```cpp
#include <iostream>
#include <iomanip>
#include <vector>
#include <algorithm>
#include <bitset>
#include <cmath>
#include <deque>
#include <functional>
#include <queue>
#include <string>
#include <stack>
#include <unordered_map>
#include <unordered_set>

using namespace std;

using ll = long long;
using db = double;
using ld = long double;
using uint = unsigned int;
using ull = unsigned long long;

using pii = pair<int, int>;
using pll = pair<ll, ll>;
using tiii = tuple<int, int, int>;

#define mod7        1000000007
#define mod9        1000000009

#define forall(v)   v.begin(), v.end()
#define prec(x)     setprecision(x) << fixed

/* [💭] [💡] [🎈] */

int dx[] = { 1, 0, -1, 0 };
int dy[] = { 0, -1, 0, 1 };

int main() {
	cin.tie(nullptr);
	cout.tie(nullptr);
	ios_base::sync_with_stdio(false);

	vector<vector<int>> gr(101);
	for (auto &v : gr) v.resize(101);

	vector<int> dr(1);
	for (int i = 0; i <= 10; i++) {
		for (int j = dr.size() - 1; j >= 0; j--) {
			dr.push_back((dr[j] + 1) % 4);
		}
	}

	int n;
	cin >> n;
	while (n--) {
		int x, y, d, g;
		cin >> x >> y >> d >> g;

		int r = 1 << g;
		for (int i = 0; i <= r; i++) {
			for (int p = 0; p < 4; p++) {
				if (y + (p / 2) > 100) continue;
				if (x + (p % 2) > 100) continue;
				gr[y + (p / 2)][x + (p % 2)] |= (1 << p);
			}
			if (i == r) break;
			int nd = (dr[i] + d) % 4;
			x += dx[nd], y += dy[nd];
		}
	}

	int s = 0;
	for (int i = 0; i <= 100; i++) {
		for (int j = 0; j <= 100; j++) {
			s += (gr[i][j] == 0xf);
		}
	}
	cout << s;

	return 0;
}
```