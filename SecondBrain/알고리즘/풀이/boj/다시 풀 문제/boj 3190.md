
# 나의 풀이
```cpp
#include <vector>
#include <iostream>
#define MAX_N 100
using namespace std;

pair<bool, int> map[MAX_N + 1][MAX_N + 1]; // 존재하는지, d
int n, k, l;
const pair<bool, int> APPLE = {false, 100001};
const pair<bool, int> EMPTY = {false, 10000};

bool inRange(int y, int x){
    return y <= n && x <= n && x > 0 && y > 0;
}

int dy[4] = {0, 1, 0, -1};
int dx[4] = {1, 0, -1, 0}; 
// 우 하 좌 상
// D -> + 1, L -> -1

bool isGameEnd(int y, int x){
    if(!inRange(y, x)) return true; // 벽에 부딫힌다.
    if(map[y][x].first) return true; // 자신 몸에 부딫힌다.
    return false;
}

int main(){

    cin >> n >> k;

    int row, col;

    for(int i = 0; i <= n; i++){
        for(int j = 0; j <= n; j++){
            map[i][j] = EMPTY;
        }
    }

    for(int i = 0; i < k; i++){
        cin >> row >> col;
        map[row][col] = APPLE;
    }

    cin >> l;

    int time;
    char d;
    vector<pair<int, char>> v;
    for(int i = 0; i < l; i++){
        cin >> time >> d;
        v.push_back({time, d});
    }

    time = 0;
    int hy = 1;
    int hx = 1;
    int ty = 1;
    int tx = 1;
    int timeIdx = 0;
    map[1][1] = {true, 0};
    while(true){
        pair<bool, int> p = map[hy][hx];
        int d = p.second;
        // 정해진 time에 방향을 전환한다.
        if(timeIdx < v.size() && time == v[timeIdx].first){
            if(v[timeIdx].second == 'L'){
                d = (d + 3) % 4;
            }else{
                d = (d + 1) % 4;
            }
            timeIdx++;
            map[hy][hx] = {true, d};
        }
        // 먼저 뱀은 몸길이를 늘려 머리를 다음칸에 위치시킨다.
        
        hy = hy + dy[d];
        hx = hx + dx[d];
        time++;
        // 만약 벽이나 자기자신의 몸과 부딪히면 게임이 끝난다.
        if(isGameEnd(hy, hx)) break;
        
        if(map[hy][hx] != APPLE){
            int td = map[ty][tx].second;
            map[ty][tx] = EMPTY; // 현재 꼬리를 지우고
            // 새로운 꼬리 위치 할당
            ty = ty + dy[td];
            tx = tx + dx[td];
        }
        
        map[hy][hx] = {true, d};
        
    }
    cout << time;
    return 0;
}
```
뭔가 복잡하다

## 다른 사람의 풀이
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,k,l,mp[111][111],chk[111][111],x,y,d,sz,t,dx[4]={0,1,0,-1},dy[4]={1,0,-1,0};
int main(){
    scanf("%d %d",&n,&k);
    for(int i=1;i<=k;i++){
        int a,b;
        scanf("%d %d",&a,&b);
        mp[a][b]=1;
    }

    x=y=sz=1;
    chk[x][y]=++t;

    scanf("%d",&l);
    while(l--){
        int a;
        char b;
        scanf("%d %c",&a,&b);
        while(t<=a){
            int xx=x+dx[d],yy=y+dy[d];
            if(xx<1 || yy<1 || xx>n || yy>n || t-sz < chk[xx][yy]) return !printf("%d",t);
            x=xx,y=yy;
            chk[x][y]=++t;
            if(mp[x][y]) mp[x][y]=0,sz++;
        }
        if(b=='L') d=(d+3)%4;
        else d=(d+1)%4;
    }
    while(1){
        int xx=x+dx[d],yy=y+dy[d];
        if(xx<1 || yy<1 || xx>n || yy>n || t-sz < chk[xx][yy]) return !printf("%d",t);
        x=xx,y=yy;
        chk[x][y]=++t;
        if(mp[x][y]) mp[x][y]=0,sz++;
    }
}
```