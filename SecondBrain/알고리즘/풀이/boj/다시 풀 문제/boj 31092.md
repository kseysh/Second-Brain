## 나의 풀이
```java
import java.io.*;
import java.util.*;

public class Main {

    static class Sticker{
        char value;
        int deleteCost;
        int purchaseCost;

        public Sticker(char v, int d, int p){
            this.value = v;
            this.deleteCost = d;
            this.purchaseCost = p;
        }
    }

    private static int n, m, k;
    private static int[] board;
    private static int[] tempBoard;
    private static List<Sticker> stickers = new ArrayList<>();
    private static final int[] minPurchaseCosts = new int['z' - 'a' + 1];
    private static final int EMPTY = Integer.MAX_VALUE;
    private static void init(){
        for (int i = 0; i <= 'z' - 'a'; i++) {
            minPurchaseCosts[i] = EMPTY;
        }
    }
    private static void initTempBoard(){
        tempBoard = new int[n];
        for(int i = 0; i < n; i++){
            tempBoard[i] = board[i];
        }
    }

    private static int calculateCost(int s, int e, String target){
        initTempBoard();
        int cost = 0;
        List<Sticker> remainedStickers = new ArrayList<>();
        for (int i = s; i <= e; i++) {
            char targetChar = target.charAt(i - s);
            Sticker currentSticker = stickers.get(tempBoard[i]);
            if(targetChar == currentSticker.value) continue;
            // cur을 뗀다.
            cost += currentSticker.deleteCost;
            remainedStickers.add(currentSticker);
            tempBoard[i] = EMPTY;
        } // 범위에 있는 모든 맞지 않는 스티커를 다 뗀다.

        for (int i = s; i <= e; i++) {
            if(tempBoard[i] != EMPTY) continue;
            char targetChar = target.charAt(i - s);

            // 뗀 스티커 중 맞는 스티커를 골라 붙인다. (무료라서 가장 저렴할 수밖에 없음)
            boolean isAttached = false;
            for (int j = 0; j < remainedStickers.size(); j++) {
                if(remainedStickers.get(j).value == targetChar){
                    remainedStickers.remove(j);
                    isAttached = true;
                    break;
                }
            }
            if(isAttached) continue;

            // 새로운 스티커를 구매해서 붙인다.
            int purchaseCost = minPurchaseCosts[targetChar - 'a'];
            // 다른 범위에 있는 스티커 중 하나를 뗀다 (어차피 남아있는거 중 하나 붙이면 되어서 붙이는 것은 신경쓰지 않아도 됨)
            int changeCost = EMPTY;
            int changeIdx = EMPTY;
            for (int j = 0; j < n; j++) {
                if(j >= s && j <= e) continue;
                if(tempBoard[j] == EMPTY) continue;
                if(stickers.get(tempBoard[j]).value == targetChar){
                    if(stickers.get(tempBoard[j]).deleteCost < changeCost){
                        changeCost = stickers.get(tempBoard[j]).deleteCost;
                        changeIdx = j;
                    }
                }
            }

            if(purchaseCost > changeCost){
                cost += changeCost;
                tempBoard[changeIdx] = EMPTY;
            }else{
                cost += purchaseCost;
            }
        }

        return cost;
    }

    public static void main(String[] args) throws IOException{
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        init();

        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        k = Integer.parseInt(st.nextToken());

        for (int i = 0; i < m; i++) {
            st = new StringTokenizer(br.readLine());
            char c = st.nextToken().charAt(0);
            int deleteCost = Integer.parseInt(st.nextToken());
            int purchaseCost = Integer.parseInt(st.nextToken());
            if(minPurchaseCosts[c - 'a'] > purchaseCost) minPurchaseCosts[c - 'a'] = purchaseCost;
            stickers.add(new Sticker(c, deleteCost, purchaseCost));
        }

        st = new StringTokenizer(br.readLine());
        board = new int[n];
        for (int i = 0; i < n; i++) {
            int idx = Integer.parseInt(st.nextToken()) - 1;
            board[i] = idx;
        }

        String str = br.readLine().trim();

        for (int i = 0; i < k; i++) {
            if(minPurchaseCosts[str.charAt(i) - 'a'] == EMPTY){
                bw.write(Integer.valueOf(-1).toString());
                bw.close();
                return;
            }
        }

        int minCost = EMPTY;
        for (int i = 0; i <= n - k; i++) {
            int cost = calculateCost(i, i + k - 1, str);
            minCost = Math.min(cost, minCost);
        }

        bw.write(Integer.valueOf(minCost).toString());
        bw.close();
    }
}

```
스티커를 먼저 떼버리면 뗀 스티커를 활용할 수 있다는 사실을 힌트를 보고 알게됨