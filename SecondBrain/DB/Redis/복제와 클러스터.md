# Replication
redis에서 복제는 특정 노드의 데이터를 동일하게 다른 노드를 생성하여 복사해서 저장해두어 고가용성을 위해 사용하는 방법

하나의 Master 노드와 Slave 노드를 사용함
![[Pasted image 20240910224924.png]]

### Replication 설정

복제의 경우 슬레이브 노드의 conf 파일에서 설정을 진행한다.

- redis.conf 파일
```bash
sudo vi /etc/redis/redis.conf
```
- 복제 설정
```scheme
replicaof 마스터IP 마스터port

//EX. replicaof 127.0.0.1 6379
```
    
- 설정 후 재시작
```bash
sudo systemctl restart redis-server
```
### 마스터 서버 장애 대비
마스터 서버에 장애가 발생하였을 경우 슬레이브 서버를 마스터 서버로 승격시켜야 한다.
이때 수동으로 설정을 진행하는 것이 거의 불가능하기 때문에 Redis는 Sentinel이라는 도구를 지원한다.
# 클러스터
복제 + 스케일 아웃의 방법으로, 