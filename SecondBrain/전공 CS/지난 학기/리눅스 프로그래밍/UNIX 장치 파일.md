## UNIX 장치
- UNIX에서 장치는 할당된 장치 번호로 접근됩니다.
  - 장치 번호는 **주 번호**와 **부 번호**로 구성됩니다.
	  - **주 번호**: 장치 유형 (장치 드라이버)
	  - **부 번호**: 특정 장치의 인스턴스
- 사용자는 특정 장치에 접근하기 위해 장치 번호를 사용하고 싶어하지 않습니다.
  - UNIX는 장치 번호를 장치 파일에 매핑합니다.
## 장치 파일:
- 따라서 장치 파일의 i-노드에는 장치 번호가 포함됩니다 (inode->i_rdev).
- 주변 장치에 대한 간단한 인터페이스를 제공합니다.
- 파일 시스템에 나타납니다.
- 사용자는 표준 시스템 호출을 사용하여 장치에 접근하고 이를 일반 컴퓨터 파일처럼 취급합니다.
- 슈퍼유저만이 장치 파일을 생성할 수 있습니다.
## UNIX 장치 파일
- 주변 장치는 파일 시스템의 파일 이름을 통해 접근됩니다.
  - 디스크, 터미널, 프린터, 테이프 유닛 등
- 일반 디스크 파일과 달리, 이들 장치 파일에 대한 읽기와 쓰기는 시스템과 해당 주변 장치 간에 데이터를 직접 전송합니다.
- 이러한 특수 파일은 /dev 디렉토리에 저장됩니다.
- 장치 파일은 명령 레벨이나 프로그램 내에서 일반 파일처럼 사용할 수 있습니다.
![[Pasted image 20241009183554.png|450]]
tty00 -> terminal의 device file
## 블록 및 문자 장치 파일
- **블록 장치 파일**:
	  - 디스크, 자기 테이프, 블록 단위로 전송, 랜덤 접근
	  - 파일 시스템은 블록 장치에서만 존재할 수 있으며, 이러한 블록 장치에는 종종 raw 장치로 알려진 연관된 문자 장치가 있습니다 (mkfs, fsck).
- **문자 장치 파일**:
	  - 터미널, 모뎀, 프린터, 랜덤 접근 (할 수도 있고 아닐 수도 있음)
## stat 구조체
- **st_mode**: 해당 파일명을 포함하는 파일 시스템의  장치 번호 및 해당 i-node를 나타냅니다.
![[Pasted image 20241009184016.png|500]]
![[Pasted image 20241009184243.png|500]]
- **st_rdev**: 문자 특수 파일과 블록 특수 파일만 st_rdev 값을 가집니다.
  - 대부분의 구현에서는 major와 minor 매크로가 정의되어 있습니다. (<sys/types.h>)
![[Pasted image 20241009184329.png|500]]