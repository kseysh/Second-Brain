## spinlock
락을 가질 수 있을 때까지 계속 반복해서 시도
![[Pasted image 20250103235737.png|400]]
여기서 TestAndSet는 CPU atomic 명령어이다.
 - 실행 중간에 간섭받거나 중단되지 않는다
 - 같은 메모리 영역에 대해 동시에 실행되지 않는다.
### 특징
- 락이 해제될 때까지 계속 루프를 돌기 때문에 CPU 자원을 계속 소비한다.
### Mutex보다의 장점
- 멀티 코어 환경이고, 임계 영역에서의 작업이 컨텍스트 스위칭보다 더 빨리 끝난다면 스핀락이 뮤텍스보다 더 이점이 있다.
	- Thread 1이 Thread 2를 spinlock하면서 기다리는 경우에만 이점이 있으므로 멀티 코어 환경이어야 한다.
		- 싱글코어라면 어차피 context switching이 발생해야 하므로 뮤텍스보다 context switching을 덜 한다는 단점이 사라지게 된다.