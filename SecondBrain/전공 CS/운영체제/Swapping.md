## Swapping
- 프로세스를 메모리에서 임시로 백업 저장소로 스왑 아웃한 뒤, 이후에 다시 메모리로 불러와 실행을 계속할 수 있음
	- 프로세스들의 총 물리 메모리 공간이 실제 물리 메모리보다 클 수 있음
- 백업 저장소(*Backing store*) – 모든 사용자들의 메모리 이미지를 저장할 수 있을 만큼 충분히 큰 빠른 디스크
	- 이러한 메모리 이미지에 직접 접근할 수 있어야 함
- 롤 아웃, 롤 인(*Roll out, roll in*) – 우선순위 기반 스케줄링 알고리즘에서 사용되는 스와핑 방식
	- 낮은 우선순위의 프로세스를 스왑 아웃하고 높은 우선순위 프로세스를 로드하여 실행 
	- = swap out, swap in
- 스와핑 시간의 대부분은 전송 시간이며, 총 전송 시간은 스왑되는 메모리 양에 비례
- 시스템은 디스크에 메모리 이미지를 가진 실행 준비 상태의 프로세스 목록(*ready queue*)을 유지함
## Schematic View of Swapping
![[Pasted image 20250520172016.png|300]]
## Context Switch Time Including Swapping
• CPU에 올릴 다음 프로세스가 메모리에 없다면, 다른 프로세스를 swap out하고 대상 프로세스를 swap in해야 함
	• 이 경우 컨텍스트 스위치 시간이 매우 길어질 수 있음
• 예: 100MB 프로세스를 하드디스크에 스왑(전송 속도 50MB/sec)
	• swap out에 2000ms 소요
	• 동일한 크기의 프로세스를 swap in하는 데 추가로 시간 소요
	• 총 컨텍스트 스위치의 스와핑 시간 구성 요소는 4000ms (4초)
• 실제 사용 중인 메모리 크기를 알고 있다면, 스왑되는 메모리 양을 줄여 이 시간을 단축할 수 있음
	• request_memory(), release_memory()와 같은 시스템 호출로 운영체제에 메모리 사용 정보를 전달 가능
## Swapping on Modern OS
• 현대 운영체제에서는 표준 스와핑 방식은 사용하지 않음
	• 그러나 수정된 형태는 흔히 사용됨
		• 메모리가 극도로 부족할 때에만 스왑 수행
• Swap 개념 자체는 사용하지만, 일부 OS에서는 Swap 개념을 사용하지 않는다
	• 플래시 메모리 기반 (USB, SSD, Smart phone)
		• *제한된 쓰기 횟수*
		• 작은 저장 용량
		• 모바일 플랫폼에서는 플래시 메모리와 CPU 간의 처리량이 낮음