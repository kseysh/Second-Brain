
## 상태 천이도
필요한 이유: 현실 시스템은 복잡하고 수많은 상태와 이벤트가 존재하여 이를 직관적으로 분리하고 효율적으로 분석하기 위함
상태 천이도의 필수 구성요소 (중요)
- **상태** : 시스템의 현재 상태
- **이벤트** : 상태를 전환시키도록 하는 원인
- **천이** : 상태의 전환
- **액션** : 상태 천이로 인한 이벤트의 명시

## Goal
- 시뮬레이션 모델의 설계를 위해 각 하위 Sub-System들의 유즈케이스를 분리합니다.
- 유즈케이스 작성 과정에서 새로운 하위 컴포넌트를 발견합니다.
- 각 서브시스템의 상태를 분류하고, 그 과정에서 새로운 하위 컴포넌트를 발견하고 상태 천이도를 작성합니다.
- 레벨 1 요구사항 명세서를 작성합니다.
## 각 Sub-system 별 유즈케이스의 분리
- **버튼** : 사용자가 버튼을 입력 (User) → 제어 시스템에게 신호 변경 요청 전달 (Control System)
- **제어 시스템** : (1) 버튼부에서 신호 변경 요청 받음 → (2) 교통 카메라에 도로 주행 차량 정보 요청 → (3) 신호등 상태 변경 지시 → (4) 스피커에 보행자 안내 방송 명령 전달
- **교통 카메라** : 제어 시스템의 요청을 수신 → 실시간 영상 분석 수행 → 차량 및 보행자 감지 결과를 제어 시스템에 전송
- **신호등** : 제어 시스템의 명령을 수신 → 신호등 색상 변경 수행
- **스피커** : 제어 시스템의 명령을 수신 → 보행자 안내 방송 송출
## Exercise 1 : 요구사항 발견(Requirements discovery)

| 컴포넌트   | 기능                      | 입력 (조건)           | 출력                                                       |
| ------ | ----------------------- | ----------------- | -------------------------------------------------------- |
| 버튼     | 버튼 입력                   | 사용자의 물리적 입력       | 제어 시스템에 신호 변경 요청 전달                                      |
| 제어 시스템 | 신호 변경 요청                | 버튼 입력 메세지 수신      | 교통 카메라에 도로 주행 차량 정보 요청                                   |
| 제어 시스템 | 교통 카메라 정보 수신 및 신호 변경 요청 | 교통 카메라에게 교통 정보 수신 | 차량이 있으면 신호등에게 상태 전환 요청 전달,<br>차량이 없으면 스피커에게 메시지 출력 요청 전달 |
| 교통 카메라 | 도로 주행 차량 정보 전달          | 제어 시스템에게 메시지 수신   | 제어 시스템에 교통 정보 전달                                         |
| 신호등    | 신호등 상태 전환               | 제어 시스템에게 메시지 수신   | 상태 전환                                                    |
| 스피커    | 메시지 출력                  | 제어 시스템에게 메시지 수신   | 메시지 출력                                                   |
복잡한 요구사항이 존재하는 경우 (예시 : 다중 버튼 입력, 동시 버튼 입력) 사전에 의견을 미리 작성해놓을 필요가 있음
## Exercise 2 : 시스템의 상태(Machine State) 분류
- 버튼부 : 버튼이 눌리지 않은 상태 / 버튼이 눌린 상태
- 제어 시스템 : 대기 상태 / 신호 변경 요청 처리 중 / 신호 변경 완료 상태
- 교통 카메라 : 대기 상태 / 영상 처리 중 / 데이터 전송 완료 상태
- 보행자 신호등 : 녹색 신호 / 적색 신호 / 점멸 상태
- 스피커 : 대기 상태 / 안내 방송 중 / 방송 완료 상태
## Exercise 3 : 상태천이도 (State Transition Diagram) 작성
![[Pasted image 20250319183429.png|400]]
## Exercise 4 : 레벨 1 요구사항 명세서 작성
- BT1-001-BTN_PRESS :
    - 요구사항 이름 : 버튼 입력 감지        
    - 컴포넌트 이름 : 버튼
    - 사전 조건(Precondition) : 버튼이 물리적으로 작동 가능해야 함
    - 시스템 행위(Behavior) : 사용자의 버튼 입력을 감지하고 제어 시스템에 신호 변경 요청을 전달
    - 입력 및 출력 : 물리적 버튼 입력 / 신호 변경 요청 메시지
    - 상위 컴포넌트 이름 : 제어 시스템

|   |   |   |   |   |   |
|---|---|---|---|---|---|
|Type|Num|Name|Component|Requirement|Precondition|
|BTN|001|BTN_PRESS|Button|버튼 입력 감지 및 신호 변경 요청|버튼이 작동 가능해야 함|
|BTN|002|BTN_LIGHT_ON|Button|버튼이 눌린 상태를 사용자에게 시각적으로 표시|버튼이 눌린 경우|
|CAM|001|CAM_DETECT|Traffic Camera|차량 및 보행자 감지|영상 처리 가능해야 함|
|SIG|001|SIG_CHANGE|Signal Light|제어 시스템의 명령에 따라 신호 변경|신호 변경 요청 수신|
|SPK|001|SPK_BROADCAST|Speaker|보행자 안내 방송 송출|방송 요청 수신|

## 과제: Edge AI 기반 교통 카메라 요구사항

1. **CCTV 컴포넌트의 상태 정의**
    - 대기 상태 / 영상 처리 중 / 데이터 전송 중 / 오류 상태
2. **요구사항 명세 작성**
    - CAM-002-OBJECT_DETECTION:
        - 요구사항 이름 : 객체 탐지
        - 컴포넌트 이름 : 교통 카메라
        - 사전 조건 : 카메라가 정상적으로 작동해야 함
        - 시스템 행위 : 실시간으로 도로 상황을 촬영하고 YOLO 모델을 사용하여 차량 및 보행자를 탐지하여 제어 시스템에 데이터 전송
        - 입력 및 출력 : 실시간 영상 / 탐지된 객체 정보
        - 상위 컴포넌트 : 제어 시스템
3. **상태 천이도 작성**
    - 대기 상태 → 영상 처리 중 → 데이터 전송 중 → 대기 상태
4. **레벨 1 요구사항 명세서 작성**

|      |     |                   |                |                       |              |
| ---- | --- | ----------------- | -------------- | --------------------- | ------------ |
| Type | Num | Name              | Component      | Requirement           | Precondition |
| CAM  | 002 | OBJECT_DETECTION  | Traffic Camera | YOLO 기반 객체 탐지 수행      | 카메라 정상 작동    |
| CAM  | 003 | DATA_TRANSMISSION | Traffic Camera | 감지된 객체 정보를 제어 시스템에 전송 | 객체 탐지 완료     |
| CAM  | 004 | ERROR_HANDLING    | Traffic Camera | 카메라 오류 발생 시 오류 코드 전송  | 오류 발생        |

