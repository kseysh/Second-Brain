## GC 튜닝이 필요한 경우
- JVM의 메모리 크기를 지정하지 않았을 때
- Timeout이 지속적으로 발생할 때
=> 하지만 그럼에도 GC 튜닝은 가장 마지막에 진행한다
=> 객체 생성을 줄이는 작업을 먼저 하자
## GC 튜닝의 목적
### Old 영역으로 넘어가는 객체의 수를 최소화 한다.
Full GC가 시간이 오래 걸리기 때문
New 영역의 크기를 잘 조절해야 한다.
### Full GC의 실행 시간을 줄인다. 
Full GC의 실행 시간을 줄이기 위해 Old 영역의 크기를 줄이면 OOM이 발생할 수 있다,
Old 영역의 크기를 늘리면 Full GC의 실행 시간이 늘어나므로 적절히 잘 세팅해야 한다.
## 튜닝 시 GC 옵션
### heap 영역 크기
- `-Xms` : JVM 시작 시 힙 영역 크기
- `-Xmx` : 최대 힙 영역 크기
- 두 옵션은 필수로 지정해야 하는 옵션이다.
### New 영역 크기
- `-XX:NewRatio` : New 영역과 Old 영역의 비율
### GC 방식 변경

## GC 튜닝의 절차
- GC 상황 모니터링
- 모니터링 결과 분석 후 GC 튜닝 여부 결정
	- GC 수행 시간이 1-3초가 넘으면 GC 튜닝을 진행한다.
- GC 방식/메모리 크기 지정
- 결과 분석
## GC 진단
아래 조건에 모두 부합하면 GC 튜닝이 필요없다.
하지만, 서비스의 상황에 따라 시간을 달리 설정한다.
- Minor GC 처리 시간 50ms 내외
- Minor GC 빈도 10초 내외
- Full GC 처리 시간 1초 이내
- Full GC 빈도 10분에 1회 이내
## GC 메모리 크기
보통 메모리 크기를 500MB로 설정한다 (-Xms500m, -Xmx500m이 아님)
Full GC 이후에 남아 있는 Old 영역의 메모리가 300MB 정도라면 300MB(기본 사용) + 500MB(Old 영역용 최소) + 200MB(여유 메모리)를 감안하여 Old 영역만 1GB정도로 지정한다.

New 영역의 크기가 작으면 Old 영역으로 넘어가는 메모리의 양이 많아져서(바로 Eden -> Old로 넘어가서) Full GC도 잦아지고 시간도 오래 걸린다.