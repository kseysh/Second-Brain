# 테스트 코드의 작성 순서
### 쉬운 경우에서 어려운 경우로 진행한다.
하나의 테스트를 통과했으면 그 다음으로 구현하기 쉬운 테스트를 선택해야 한다.
#### 이유
- 한 번에 구현해야 할 코드가 많아진다.
	- 한 번에 완벽한 코드를 만들면 좋겠지만 보통의 개발자는 한 번에 많은 코드를 만들다 보면 버그를 만들게 되고, 나중에 버그를 잡기 위해 많은 시간을 허비하게 된다.
### 예외적인 경우에서 정상인 경우로 진행한다.

	다양한 예외 상황은 복잡한 if-else 블록을 동반할 때가 있는데, 예외 상황을 전혀 고려하지 않은 코드에 예외 상황을 반영하려면 코드의 구조를 뒤집거나 코드 중간에 예외 상황을 처리하기 위해 조건문을 중복해서 추가하는 일이 벌어진다 이는 코드를 복잡하게 만들어 버그 발생 가능성을 높인다. => 따라서 초반에 예외 상황을 테스트하여 예외 상황에 따른 if-else 구조를 만들 가능성을 줄인다.

## TDD의 연습과정
1. 정해진 값을 리턴
	1. ex) 실제 코드에 
	   ![[Pasted image 20231102153256.png]]
	   이렇게 실제 값을 넣어 테스트를 통과시켜본다.
2. 값 비교를 이용해서 정해진 값을 리턴
	1. 실제 코드에
	   ![[Pasted image 20231102153543.png]]
	   값 비교를 추가하여 새로 추가한 테스트를 통과시켜본다.
3. 다양한 테스트를 추가하면서 구현을 일반화
	1. 실제 코드에
	   ![[Pasted image 20231102153640.png]]
	   상수를 제거하고 일반화한다.
이 단계를 거쳐 연습하는 것이 좋다.

>몇 차례 상수를 사용해서 테스트를 통과시키고 뒤에 구현을 일반화하는 과정이 처음에는 지루해도 나중에 만들어야 할 코드가 잘 떠오르지 않을 때 점진적으로 구현을 진행할 수 있는 밑거름이 될 수 있다!

## 지속적인 리팩토링
> 리팩토링도 좋지만 일단 동작하는 코드를 만드는 것도 중요하다!

### 테스트 대상 코드의 리팩토링 시점
테스트 대상 코드에서 변수 이름을 변경하는 것과 같은 작은 리팩토링은 발견하면 바로 실행하는 반면에 메서드 추출과 같이 메서드의 구조에 영향을 주는 리팩토링은 큰 틀에서 구현 흐름이 눈에 들어오기 시작한 뒤에 진행한다.
![[Pasted image 20231102154023.png]]

### 테스트 코드에서 리팩토링 하면 좋을 것
메서드의 파라미터 개수가 세 개 이상이면 객체로 바꿔 한 개로 줄이는 것을 고민한다.
매직넘버를 상수로 선언한다.

## 테스트 작성 순서 연습
![[Pasted image 20231102164704.png]]

### 순서 정하기
테스트를 추가할 때는 다음 두 가지를 고려한다.
- 구현하기 쉬운 것부터 먼저 테스트
- 예외 상황을 먼저 테스트

### 테스트할 목록 정리하기
TDD를 시작할 때 테스트할 목록을 미리 정리하면 좋다.
테스트를 정리한 후에는 어떤 테스트가 구현이 쉬울지 상상해본다.
어떤 테스트가 예외적인지도 상상해보면 좋다.
테스트 과정에서 새로운 테스트 사례를 발견하면 그 사례를 목록에 추가해서 놓치지 않도록 한다.
테스트 목록으



몇 번이상 중복되면 공통적으로 바꿔 리팩토링 하는 것이 좋을까?