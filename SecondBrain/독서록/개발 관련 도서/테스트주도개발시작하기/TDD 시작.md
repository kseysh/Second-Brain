# TDD란?
![[Pasted image 20231016104310.png]]

![[Pasted image 20231016104526.png]]

# 테스트함수는 한글이름으로 지어도 좋다
![[Pasted image 20231016105014.png]]
+ 김영한님도 그렇게 말씀하셨다..

# 코드 정리: 테스트 코드 정리
> 테스트 코드도 코드이기 때문에 유지보수 대상이다. 즉 테스트 메서드에서 발생하는 중복을 알맞게 제거하거나 의미가 잘 드러나게 코드를 수정할 필요가 있다.

### 하지만!!
![[Pasted image 20231016105359.png]]
테스트코드는 실제 서비스에서 돌아가는 코드가 아니기 때문에 테스트 코드 관리가 용이해지는 것이 첫 번째 목표여야하지 아닐까 싶다.

# TDD 흐름
![[Pasted image 20231016105855.png]]
기능을 검증하는 테스트를 작성
작성한 테스트를 통과하지 못하면 테스트를 통과할 만큼만 코드 작성
테스트를 통과한 뒤에는 개선할 코드가 있으면 리팩토링
리팩토링 수행 후 다시 테스트를 실행해서 기존 기능이 망가지지 않았는지 확인

### 레드-그린-리팩터
![[Pasted image 20231016110006.png]]

## 테스트가 개발을 주도한다?
![[Pasted image 20231016110115.png]]
![[Pasted image 20231016110124.png]]
![[Pasted image 20231016110132.png]]

## TDD의 장점
### 지속적인 코드 정리
![[Pasted image 20231016110228.png]]
![[Pasted image 20231016110247.png]]

### 빠른 피드백
![[Pasted image 20231016110314.png]]

# Ex) 암호 검사기
## 검사할 규칙
![[Pasted image 20231016110507.png]]
![[Pasted image 20231016110513.png]]

### 아무 검증도 하지 않는 테스트 메서드
![[Pasted image 20231016110540.png]]
빈 테스트 메서드를 실행하는 것이 불필요한 행위 같지만, 테스트를 실행할 수 있는 환경을 갖추었는지 확인할 수 있으므로 나름대로 의미가 있다.

### 첫 번째 테스트 : 모든 규칙을 충족하는 경우
첫 번째 테스트를 선택할 때에는 가장 쉽거나 가장 예외적인 상황을 선택한다

![[Pasted image 20231016111306.png]]
![[Pasted image 20231016111322.png]]
> STRONG 이외의 NORMAL, WEEK를 추가할 수 있지만 하지 않은 이유 : TDD는 테스트를 통과시킬만큼의 코드를 작성해야하기 때문이다.
![[Pasted image 20231016111333.png]]

#### 테스트 실패와 수정
![[Pasted image 20231016111841.png]]
![[Pasted image 20231016111821.png]]
#### 암호 검사 기능에서 가장 쉽거나 가장 예외적인 것
- 모든 규칙을 충족하는 경우
- 모든 조건을 충족하지 않는 경우

모든 규칙을 충족하는 경우가 테스트를 쉽게 통과시킬 수 있으므로 먼저 테스트코드를 작성해본다.
#### Assertions.assertEquals()
![[Pasted image 20231016104856.png]]

### 두 번째 테스트 : 길이만 8글자 미만이고 나머지 조건은 충족하는 경우

![[Pasted image 20231016111920.png]]

![[Pasted image 20231016111931.png]]

#### 테스트 실패와 수정
![[Pasted image 20231016111950.png]]
![[Pasted image 20231016112017.png]]

### 세 번째 테스트 : 숫자를 포함하지 않고 나머지 조건은 충족하는 경우
![[Pasted image 20231016112109.png]]

#### 테스트 실패와 수정
암호가 숫자를 포함했는지를 판단해서 포함하지 않은 경우 NORMAL을 리턴하게 구현한다.
![[Pasted image 20231016112128.png]]

#### 리팩토링
![[Pasted image 20231016112241.png]]
![[Pasted image 20231016112250.png]]

### 테스트 코드 정리
#### PasswordStrengthMeter 객체를 생성하는 코드의 중복을 없애는 코드 정리
![[Pasted image 20231016112317.png]]
![[Pasted image 20231016112324.png]]

#### 암호 강도 측정 기능을 실행하고 이를 확인하는 코드의 중복 정리
	메서드를 이용해서 제거한다.
![[Pasted image 20231016112627.png]]
![[Pasted image 20231016112643.png]]

![[Pasted image 20231016112654.png]]

### 네 번째 테스트: 값이 없는 경우
null을 입력할 경우 ![[Pasted image 20231016112732.png]]

![[Pasted image 20231016112750.png]]

#### 테스트 실패와 수정
![[Pasted image 20231016112815.png]]

##### NPE가 발생하여 실패
![[Pasted image 20231016112841.png]]

##### 빈 문자열에 대한 테스트도 추가
![[Pasted image 20231016112906.png]]
![[Pasted image 20231016112920.png]]

### 다섯 번째 테스트: 대문자를 포함하지 않고 나머지 조건을 충족하는 경우

![[Pasted image 20231016112952.png]]

#### 테스트 실패와 수정
![[Pasted image 20231016113009.png]]

#### 테스트코드 정리
![[Pasted image 20231016113029.png]]
![[Pasted image 20231016113037.png]]

### 여섯 번째 테스트: 길이가 8글자 이상인 조건만 충족하는 경우
![[Pasted image 20231016113105.png]]

#### 테스트 실패와 수정
![[Pasted image 20231016113133.png]]

![[Pasted image 20231016113147.png]]

#### 테스트 코드 정리
![[Pasted image 20231016113219.png]]
![[Pasted image 20231016113227.png]]
![[Pasted image 20231016113234.png]]

![[Pasted image 20231016113250.png]]
### 일곱 번째 테스트: 숫자 포함 조건만 충족하는 경우
![[Pasted image 20231016113322.png]]
![[Pasted image 20231016113333.png]]

### 여덟 번째 테스트, 대문자 포함 조건만 충족하는 경우
![[Pasted image 20231016113359.png]]

#### 테스트 실패와 수정
![[Pasted image 20231016113415.png]]

#### 코드 정리
![[Pasted image 20231016113446.png]]![[Pasted image 20231016113501.png]]

![[Pasted image 20231016113519.png]]

![[Pasted image 20231016113536.png]]

### 아홉 번째 테스트 : 아무 조건도 충족하지 않은 경우
![[Pasted image 20231016113605.png]]

#### 테스트 실패와 수정
원하는 결과는 WEAK인데, 실제 결과는 STRONG으로 나오는 문제 발생
![[Pasted image 20231016113706.png]]
![[Pasted image 20231016113712.png]]

첫 번째 방식을 사용하여 구현
![[Pasted image 20231016113724.png]]

#### 코드 정리
![[Pasted image 20231016113810.png]]
![[Pasted image 20231016113818.png]]

메소드 이름을 자세히 적어야 하는가?
