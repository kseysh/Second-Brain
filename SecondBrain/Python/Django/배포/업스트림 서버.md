업스트림 서버는 Nginx(엔진엑스) 웹 서버에서 사용되는 용어로, Nginx가 클라이언트로부터의 요청을 받아서 처리하지 않고, 해당 요청을 다른 서버로 전달하여 처리하는 서버를 말합니다. 이때 전달된 요청을 처리하는 서버를 "업스트림 서버"라고 합니다.

일반적으로 Nginx는 웹 서버 또는 리버스 프록시로 사용됩니다. 리버스 프록시는 클라이언트로부터의 요청을 받아서 그 요청을 다른 서버로 전달하고, 해당 서버로부터 받은 응답을 클라이언트에게 다시 전달하는 역할을 합니다.

예를 들어, Nginx가 `stalksound.store`라는 도메인으로 들어오는 요청을 받았을 때, 해당 요청을 처리하지 않고 `3.37.61.117`라는 다른 서버로 요청을 전달하는 경우가 있을 수 있습니다. 이때 `3.37.61.117` 서버가 업스트림 서버가 됩니다. 즉, Nginx는 업스트림 서버로 요청을 중계하고, 업스트림 서버가 해당 요청을 처리한 후 그 결과를 다시 Nginx로 받아 클라이언트에게 전달하는 역할을 수행합니다.
=> 여기서 `3.37.61.117`는 aws에서 만든 공인 IP주소이다.

업스트림 서버를 사용하는 주된 이유는 다음과 같습니다:

1. 부하 분산: 여러 대의 업스트림 서버를 사용하여 트래픽을 분산시켜 부하를 고르게 분담할 수 있습니다.
2. 서비스의 분리: Nginx를 사용하여 정적 콘텐츠와 동적 콘텐츠를 분리하여 처리할 수 있습니다.
3. 서비스의 간접적 보호: 업스트림 서버를 통해 실제 서버의 IP를 감춤으로써 보안을 향상시킬 수 있습니다.

업스트림 서버를 설정하려면 Nginx의 설정 파일에 해당 서버를 정의하고, 해당 서버로 요청을 전달하는 방법을 지정해야 합니다. 이를 통해 웹 서비스의 효율성과 안정성을 개선할 수 있습니다.